# Tomcat
server:
  port: 8090

# Spring
spring:
  application:
    # 应用名称
    name: gateway
  main:
    web-application-type: reactive
  autoconfigure:
    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

  profiles:
    # 环境配置
    active: dev
  cloud:
    nacos:
      server-addr: 127.0.0.1:8848
      username: nacos
      password: nacos
      discovery:
        namespace: xigua
      config:
        namespace: xigua
        # 配置文件格式
        file-extension: yml
        # 共享配置
        shared-configs:
          - application-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}

dubbo:
  scan:
    base-packages: com.xigua
  protocol:
    name: dubbo
    port: 20881
  registry:
    check: false
    # 注册中心nacos
    address: nacos://127.0.0.1:8848
    # 指定nacos namespace命名空间
    parameters:
      namespace: xigua
  consumer:
    check: false
    # 重试为0
    retries: 0
    # 超时5秒
    timeout: 5000
    # 自定义过滤器（用来隐式传当前用户信息）
#    filter: userContextFilter
  provider:
    check: false
    # 重试为0
    retries: 0
    # 超时5秒
    timeout: 5000
    # 自定义过滤器（用来隐式传当前用户信息）
#    filter: userContextFilter
